"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=calendar;function _createForOfIteratorHelper(a,b){var c;if("undefined"==typeof Symbol||null==a[Symbol.iterator]){if(Array.isArray(a)||(c=_unsupportedIterableToArray(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0,e=function(){};return{s:e,n:function n(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function e(a){throw a},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function s(){c=a[Symbol.iterator]()},n:function n(){var a=c.next();return g=a.done,a},e:function e(a){h=!0,f=a},f:function f(){try{g||null==c["return"]||c["return"]()}finally{if(h)throw f}}}}function _unsupportedIterableToArray(a,b){if(a){if("string"==typeof a)return _arrayLikeToArray(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(a,b):void 0}}function _arrayLikeToArray(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function calendar(a){function b(a){var b,c=0,d=_createForOfIteratorHelper(k.values());try{for(d.s();!(b=d.n()).done;){var e=b.value;e===a.toLocaleDateString()&&c++}}catch(a){d.e(a)}finally{d.f()}return c}var c,d,e=a.headings,f=a.currentDate,g=a.events,h=a.showToday,j=a.showAnotherDays,k=a.dataEvents,l=e,m=function(a){var c=el(a,0),d=l.months||["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"];return{heading:function(){var a=c.children[0],b=l.weekend||"minggu";append(a,function(){var a=l.days.map(function(a){return"<th scope=\"head-month\" ".concat(a.toLowerCase()===b?"calendar-monday":"",">").concat(a,"</th>")}).join("");return"<tr>".concat(a,"</tr>")})},render:function(a){var e=[];c.children[1].innerHTML="";var f=new Date,k=a.getDate(),l=f.getMonth(),m=f.getFullYear(),n=a.getMonth(),o=a.getFullYear(),p=d[n],q=new Date(o,n).getDay();el("[calendar-monthTitle]",0).textContent="".concat(p," ").concat(o);for(var x=1;x<=q;x++)e.push({day:j?x:"",date:new Date(o,n-1,x),thisMonthClass:"not-current__month",isToday:!1});for(var i,y=1;y<=k;y++)i=equal(y===f.getDate()).equal(a.getMonth()===l).equal(a.getFullYear()===m).get,e.push({day:y,date:new Date(o,n,y),thisMonthClass:"current__month",isToday:!!h&&i});for(var r=42-e.length,s=6,t=1;t<=r;t++)e.push({day:j?t:"",date:new Date(o,n+1,t),thisMonthClass:"not-current__month",isToday:!1});for(var u,v=e.map(function(a){var c=a.day,d=a.isToday,e=a.thisMonthClass,f=a.date,h=createElement("td");h.classList.add(e),h.innerText=c||"",d&&(h.classList.add("current__today"),h.setAttribute("today",c));var i=b(f);return(0<i&&j&&h.setAttribute("calendar-event-count",99<i?"99+":i),!j&&f.getMonth()!==n)?h:(("onClick"in g)&&h.addEventListener("click",function(){return g.onClick(f)}),h)}),w=0;w<s;w++){u=createElement("tr");for(var z=0;7>z;z++)u.insertAdjacentElement("beforeend",v.shift());c.children[1].insertAdjacentElement("beforeend",u)}}}}("[calendar-container]"),n={month:new Date().getMonth(),year:new Date().getFullYear()};m.heading(),m.render(f||new Date(n.year,n.month+1,0)),null===(c=el("button[calendar-btn-prev]",0))||void 0===c?void 0:c.addEventListener("click",function(){var a=new Date(n.year,n.month,0);n.month=a.getMonth(),n.year=a.getFullYear(),m.render(a),null===g||void 0===g?void 0:g.prevOnClick(new Date(n.year,n.month))}),null===(d=el("button[calendar-btn-next]",0))||void 0===d?void 0:d.addEventListener("click",function(){var a=new Date(n.year,n.month+2,0);n.month=a.getMonth(),n.year=a.getFullYear(),console.log(a),m.render(a),null===g||void 0===g?void 0:g.nextOnClick(new Date(n.year,n.month))})}function append(a,b){a.innerHTML="function"==typeof b?b():b}function getLastChildren(a){if(0===a.children.length)return a;var b=getLastChildren(a.children[0]);return b}function equal(a){var b=[];return function a(c){return b.push(!!c),{equal:a,get:!b.includes(!1)}}(a)}function el(a,b){var c=document.querySelectorAll(a);if(c===void 0)throw new Error("Element selector not found");return"number"==typeof b?c[b]:1<c.length?c:c[0]}function createElement(a){return document.createElement(a)}
